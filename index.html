/* Asterisk Tracker 2024 One-Liner Remake
by p9iaai (c) 2024 (index.html) */

<!DOCTYPE html>
<html>
<head>
    <style>
        canvas { background: black; }
        body { margin: 0; display: flex; justify-content: center; align-items: center; height: 100vh; background: #000; }
    </style>
</head>
<body>
    <canvas id="g" width="1280" height="1024"></canvas>
    <script>
(s=1,x=0,y=512,trail=[],stars=[],newGame=()=>{stars=Array(1+s*5).fill().map(()=>({x:Math.random()*1200+50,y:Math.random()*900+50}))},newGame(),addEventListener('keydown',e=>k=e.code=='Space'),addEventListener('keyup',e=>k=0),setInterval(()=>{with(g.getContext`2d`){clearRect(0,0,1280,1024);fillStyle='#fff';fillRect(1279,0,1,452);fillRect(1279,572,1,451);font='16px monospace';stars.forEach(s=>fillText('*',s.x,s.y));trail.push({x,y});if(trail.length>300)trail.shift();trail.forEach((p,i)=>fillRect(p.x,p.y,4,4));x+=1.5;y+=k?-3:1.5;if(stars.some(s=>Math.abs(s.x-x)<8&&Math.abs(s.y-y)<8)||y<0||y>1023||(x>=1279&&(y<=452||y>=572))){s=1;x=0;y=512;trail=[];k=0;newGame();alert('Game Over!\nPress OK to play again')}else if(x>=1279&&y>452&&y<572){alert(`Score: ${s}\nPress OK for next level`);s++;x=0;y=512;trail=[];k=0;newGame()}}}),16)
    </script>
</body>
</html>
